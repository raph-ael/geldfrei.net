/*! LazyYT (lazy load Youtube videos plugin) - v0.3.0 - 2014-03-07
* Usage: <div class="lazyYT" data-youtube-id="laknj093n" data-width="300" data-height="200" data-parameters="rel=0">loading...</div>
* Copyright (c) 2014 Tyler Pearson; Licensed MIT */
(function(b){function a(d){var c=d;c.children("img").load(function(){var f=parseInt(c.children("img").width()),e=parseInt((f/16)*9),h=c.data("youtube-id"),g=c.data("parameters")||"";b(window).resize(function(){f=c.width();e=parseInt((f/16)*9);c.css({height:e+"px"});c.children("span:first").css({top:(c.height()-parseInt((c.children("span:first").height()*2)-3))+"px"})});c.css({position:"relative",width:"100%",height:parseInt((c.height()/16)*9)+"px","text-align":"right",cursor:"pointer","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-image":"url("+c.children("img:first").attr("src")+")","background-position":"center",padding:"0"}).removeClass("thumbnail");c.children("img").remove();c.append('<span class="play glyphicon glyphicon-play"></span>');c.children("span:first").css({position:"relative",top:(c.height()-parseInt((c.children("span:first").height()*2)-3))+"px"});setTimeout(function(){f=c.width();e=parseInt((f/16)*9);c.css({height:e+"px"});c.children("span:first").css({top:(c.height()-parseInt((c.children("span:first").height()*2)-3))+"px"})},200);c.click(function(){if(typeof f==="undefined"||typeof e==="undefined"||typeof h==="undefined"){throw new Error("lazyYT is missing a required data attribute.")}c.addClass("lazyYT-image-loaded");b.getJSON("https://gdata.youtube.com/feeds/api/videos/"+h+"?v=2&alt=json",function(i){b("#lazyYT-title-"+h).text(i.entry.title.$t)});c.removeClass("thumbnail");if(!c.hasClass("lazyYT-video-loaded")&&c.hasClass("lazyYT-image-loaded")){c.html('<iframe width="'+f+'" height="'+e+'" src="//www.youtube.com/embed/'+h+"?autoplay=1&"+g+'" frameborder="0" allowfullscreen></iframe>').removeClass("lazyYT-image-loaded").addClass("lazyYT-video-loaded")}setTimeout(function(){f=c.width();e=parseInt((f/16)*9);c.css({height:e+"px"});c.children("span:first").css({top:(c.height()-parseInt((c.children("span:first").height()*2)-3))+"px"})},200)})})}b.fn.lazyYT=function(){return this.each(function(){var c=b(this).css("cursor","pointer");a(c)})}}(jQuery));