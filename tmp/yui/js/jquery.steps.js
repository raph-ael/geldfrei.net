/*! 
 * jQuery Steps v1.0.4 - 12/17/2013
 * Copyright (c) 2013 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
(function(G,m){var F=0;var K="jQu3ry_5teps_St@te_";var q="-t-";var ab="-p-";var e="-h-";var w="Index out of range.";var d="One or more corresponding step {0} are missing.";function r(ag,af){H(ag).push(af)}function u(al,ag,ak){var ah=al.children(ag.headerTag),ai=al.children(ag.bodyTag);if(ah.length>ai.length){n(d,"contents")}else{if(ah.length<ai.length){n(d,"titles")}}var am=ag.startIndex;ak.stepCount=ah.length;if(ag.saveState&&G.cookie){var aj=G.cookie(K+a(al));var af=parseInt(aj,0);if(!isNaN(af)&&af<ak.stepCount){am=af}}ak.currentIndex=am;ah.each(function(ao){var ar=G(this),aq=ai.eq(ao),an=aq.data("mode"),av=(an==null)?z.html:S(z,(/^\s*$/.test(an)||isNaN(an))?an:parseInt(an,0)),au=(av===z.html||aq.data("url")===m)?"":aq.data("url"),at=(av!==z.html&&aq.data("loaded")==="1"),ap=G.extend({},Z,{title:ar.html(),content:(av===z.html)?aq.html():"",contentUrl:au,contentMode:av,contentLoaded:at});r(al,ap)})}function h(af,ag){return af.currentIndex-ag}function T(ak,ag){var af=W(ak);ak.unbind(af).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(af);ak.removeClass(ag.clearFixCssClass+" vertical");var aj=ak.find(".content > *");aj.removeData("loaded").removeData("mode").removeData("url");aj.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");ak.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var ah=G(B('<{0} class="{1}"></{0}>',ak.get(0).tagName,ak.attr("class")));var ai=ak._getId();if(ai!=null&&ai!==""){ah._setId(ai)}ah.html(ak.find(".content").html());ak.after(ah);ak.remove();return ah}function i(ah,ag){var af=ah.find(".steps li").eq(ag.currentIndex);if(ah.triggerHandler("finishing",[ag.currentIndex])){af.addClass("done").removeClass("error");ah.triggerHandler("finished",[ag.currentIndex])}else{af.addClass("error")}}function B(ai){for(var ag=1;ag<arguments.length;ag++){var af=(ag-1);var ah=new RegExp("\\{"+af+"\\}","gm");ai=ai.replace(ah,arguments[ag])}return ai}function W(ag){var af=ag.data("eventNamespace");if(af==null){af="."+a(ag);ag.data("eventNamespace",af)}return af}function L(ag,af){var ah=a(ag);return ag.find("#"+ah+q+af)}function l(ag,af){var ah=a(ag);return ag.find("#"+ah+ab+af)}function A(ag,af){var ah=a(ag);return ag.find("#"+ah+e+af)}function V(af){return af.data("options")}function Y(af){return af.data("state")}function H(af){return af.data("steps")}function f(ah,ag){var af=H(ah);if(ag<0||ag>=af.length){n(w)}return af[ag]}function a(af){var ag=af.data("uid");if(ag==null){ag=af._getId();if(ag==null){ag="steps-uid-".concat(F);af._setId(ag)}F++;af.data("uid",ag)}return ag}function S(af,ai){U("enumType",af);U("keyOrValue",ai);if(typeof ai==="string"){var ah=af[ai];if(ah===m){n("The enum key '{0}' does not exist.",ai)}return ah}else{if(typeof ai==="number"){for(var ag in af){if(af[ag]===ai){return ai}}n("Invalid enum value '{0}'.",ai)}else{n("Invalid key or value type.")}}}function M(ah,af,ag){return o(ah,af,ag,v(ag,1))}function ae(ah,af,ag){return o(ah,af,ag,h(ag,1))}function Q(ai,ag,ah,af){if(af<0||af>=ah.stepCount){n(w)}if(ag.forceMoveForward&&af<ah.currentIndex){return}var aj=ah.currentIndex;if(ai.triggerHandler("stepChanging",[ah.currentIndex,af])){ah.currentIndex=af;C(ai,ag,ah);aa(ai,ag,ah,aj);j(ai,ag,ah);J(ai,ag,ah);ad(ai,ag,ah,af,aj);ai.triggerHandler("stepChanged",[af,aj])}else{ai.find(".steps li").eq(aj).addClass("error")}return true}function v(ag,af){return ag.currentIndex+af}function g(af){var ag=G.extend(true,{},I,af);return this.each(function(){var ai=G(this);var ah={currentIndex:ag.startIndex,currentStep:null,stepCount:0,transitionElement:null};ai.data("options",ag);ai.data("state",ah);ai.data("steps",[]);u(ai,ag,ah);E(ai,ag,ah);N(ai,ag);if(ag.autoFocus&&F===0){L(ai,ag.startIndex).focus()}})}function x(al,ah,ak,ag,aj){if(ag<0||ag>ak.stepCount){n(w)}aj=G.extend({},Z,aj);y(al,ag,aj);if(ak.currentIndex>=ag){ak.currentIndex++;C(al,ah,ak)}ak.stepCount++;var ai=al.find(".content"),am=G(B("<{0}>{1}</{0}>",ah.headerTag,aj.title)),af=G(B("<{0}></{0}>",ah.bodyTag));if(aj.contentMode==null||aj.contentMode===z.html){af.html(aj.content)}if(ag===0){ai.prepend(af).prepend(am)}else{l(al,(ag-1)).after(af).after(am)}R(al,af,ag);X(al,ah,ak,am,ag);D(al,ah,ak,ag);j(al,ah,ak);return al}function y(ah,af,ag){H(ah).splice(af,0,ag)}function s(ah){var aj=G(this),ag=V(aj),ai=Y(aj);if(ag.suppressPaginationOnFocus&&aj.find(":focus").is(":input")){ah.preventDefault();return false}var af={left:37,right:39};if(ah.keyCode===af.left){ah.preventDefault();ae(aj,ag,ai)}else{if(ah.keyCode===af.right){ah.preventDefault();M(aj,ag,ai)}}}function J(ai,af,ah){if(ah.stepCount>0){var ag=f(ai,ah.currentIndex);if(!af.enableContentCache||!ag.contentLoaded){switch(S(z,ag.contentMode)){case z.iframe:ai.find(".content > .body").eq(ah.currentIndex).empty().html('<iframe src="'+ag.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case z.async:var aj=l(ai,ah.currentIndex)._aria("busy","true").empty().append(b(af.loadingTemplate,{text:af.labels.loading}));G.ajax({url:ag.contentUrl,cache:false}).done(function(ak){aj.empty().html(ak)._aria("busy","false").data("loaded","1")});break}}}}function o(al,ai,ak,ah){var am=ak.currentIndex;if(ah>=0&&ah<ak.stepCount&&!(ai.forceMoveForward&&ah<ak.currentIndex)){var ag=L(al,ah),aj=ag.parent(),af=aj.hasClass("disabled");aj._enableAria();ag.click();if(am===ak.currentIndex&&af){aj._disableAria();return false}return true}return false}function p(ai){ai.preventDefault();var ah=G(this),ak=ah.parent().parent().parent().parent(),ag=V(ak),aj=Y(ak),af=ah.attr("href");switch(af.substring(af.lastIndexOf("#"))){case"#finish":i(ak,aj);break;case"#next":M(ak,ag,aj);break;case"#previous":ae(ak,ag,aj);break}}function j(ak,af,aj){if(af.enablePagination){var ag=ak.find(".actions a[href$='#finish']").parent(),ah=ak.find(".actions a[href$='#next']").parent();if(!af.forceMoveForward){var ai=ak.find(".actions a[href$='#previous']").parent();if(aj.currentIndex>0){ai._enableAria()}else{ai._disableAria()}}if(af.enableFinishButton&&af.showFinishButtonAlways){if(aj.stepCount===0){ag._disableAria();ah._disableAria()}else{if(aj.stepCount>1&&aj.stepCount>(aj.currentIndex+1)){ag._enableAria();ah._enableAria()}else{ag._enableAria();ah._disableAria()}}}else{if(aj.stepCount===0){ag._hideAria();ah._showAria()._disableAria()}else{if(aj.stepCount>(aj.currentIndex+1)){ag._hideAria();ah._showAria()._enableAria()}else{if(!af.enableFinishButton){ah._disableAria()}else{ag._showAria();ah._hideAria()}}}}}}function aa(ak,af,aj,am){var ah=L(ak,aj.currentIndex),ai=G('<span class="current-info audible">'+af.labels.current+" </span>"),ag=ak.find(".content > .title");if(am!=null){var al=L(ak,am);al.parent().addClass("done").removeClass("error")._deselectAria();ag.eq(am).removeClass("current").next(".body").removeClass("current");ai=al.find(".current-info");ah.focus()}ah.prepend(ai).parent()._selectAria().removeClass("done")._enableAria();ag.eq(aj.currentIndex).addClass("current").next(".body").addClass("current")}function D(ak,ao,af,aj){var al=a(ak);for(var ah=aj;ah<af.stepCount;ah++){var ag=al+q+ah,ai=al+ab+ah,am=al+e+ah,an=ak.find(".title").eq(ah)._setId(am);ak.find(".steps a").eq(ah)._setId(ag)._aria("controls",ai).attr("href","#"+am).html(b(ao.titleTemplate,{index:ah+1,title:an.html()}));ak.find(".body").eq(ah)._setId(ai)._aria("labelledby",am)}}function N(ah,ag){var af=W(ah);ah.bind("finishing"+af,ag.onFinishing);ah.bind("finished"+af,ag.onFinished);ah.bind("stepChanging"+af,ag.onStepChanging);ah.bind("stepChanged"+af,ag.onStepChanged);if(ag.enableKeyNavigation){ah.bind("keyup"+af,s)}ah.find(".actions a").bind("click"+af,p)}function k(ai,ag,ah,af){if(af<0||af>=ah.stepCount||ah.currentIndex===af){return false}P(ai,af);if(ah.currentIndex>af){ah.currentIndex--;C(ai,ag,ah)}ah.stepCount--;A(ai,af).remove();l(ai,af).remove();L(ai,af).parent().remove();if(af===0){ai.find(".steps li").first().addClass("first")}if(af===ah.stepCount){ai.find(".steps li").eq(af).addClass("last")}D(ai,ag,ah,af);j(ai,ag,ah);return true}function P(ag,af){H(ag).splice(af,1)}function E(ak,ao,af){var an='<{0} class="{1}">{2}</{0}>',ah=S(c,ao.stepsOrientation),ag=(ah===c.vertical)?" vertical":"",ai=G(B(an,ao.contentContainerTag,"content greenbox "+ao.clearFixCssClass,ak.html())),al=G(B(an,ao.stepsContainerTag,"steps "+ao.clearFixCssClass,'<ul role="tablist"></ul>')),am=ai.children(ao.headerTag),aj=ai.children(ao.bodyTag);ak.attr("role","application").empty().append(al).append(ai).addClass(ao.cssClass+" "+ao.clearFixCssClass+ag);aj.each(function(ap){R(ak,G(this),ap)});aj.eq(af.currentIndex)._showAria();am.each(function(ap){X(ak,ao,af,G(this),ap)});aa(ak,ao,af);t(ak,ao,af)}function R(aj,af,ah){var ak=a(aj),ag=ak+ab+ah,ai=ak+e+ah;af._setId(ag).attr("role","tabpanel")._aria("labelledby",ai).addClass("body")._hideAria()}function t(aj,ag,ai){if(ag.enablePagination){var af='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',ak='<li><a class="shadow2 greenbox" href="#{0}" role="menuitem">{1}</a></li>',ah="";if(!ag.forceMoveForward){ah+=B(ak,"previous",ag.labels.previous)}ah+=B(ak,"next",ag.labels.next);if(ag.enableFinishButton){ah+=B(ak,"finish",ag.labels.finish)}aj.append(B(af,ag.actionContainerTag,ag.clearFixCssClass,ag.labels.pagination,ah));j(aj,ag,ai);J(aj,ag,ai)}}function b(ai,ak){var aj=ai.match(/#([a-z]*)#/gi);for(var ah=0;ah<aj.length;ah++){var af=aj[ah],ag=af.substring(1,af.length-1);if(ak[ag]===m){n("The key '{0}' does not exist in the substitute collection!",ag)}ai=ai.replace(af,ak[ag])}return ai}function X(ak,aq,af,ah,aj){var am=a(ak),ag=am+q+aj,ai=am+ab+aj,an=am+e+aj,al=ak.find(".steps > ul"),ap=b(aq.titleTemplate,{index:aj+1,title:ah.html()}),ao=G('<li role="tab"><a id="'+ag+'" href="#'+an+'" aria-controls="'+ai+'">'+ap+"</a></li>");if(!aq.enableAllSteps){ao._disableAria()}if(af.currentIndex>aj){ao._enableAria().addClass("done")}ah._setId(an).attr("tabindex","-1").addClass("title");if(aj===0){al.prepend(ao)}else{al.find("li").eq(aj-1).after(ao)}if(aj===0){al.find("li").removeClass("first").eq(aj).addClass("first")}if(aj===(af.stepCount-1)){al.find("li").removeClass("last").eq(aj).addClass("last")}ao.children("a").bind("click"+W(ak),O)}function C(ah,af,ag){if(af.saveState&&G.cookie){G.cookie(K+a(ah),ag.currentIndex)}}function ad(al,au,ag,ak,ap){var aj=al.find(".content > .body"),at=S(ac,au.transitionEffect),an=au.transitionEffectSpeed,ao=aj.eq(ak),af=aj.eq(ap);switch(at){case ac.fade:case ac.slide:var ai=(at===ac.fade)?"fadeOut":"slideUp",aq=(at===ac.fade)?"fadeIn":"slideDown";ag.transitionElement=ao;af[ai](an,function(){var aw=G(this)._hideAria().parent().parent(),av=Y(aw);if(av.transitionElement){av.transitionElement[aq](an,function(){G(this)._showAria()});av.transitionElement=null}}).promise();break;case ac.slideLeft:var ar=af.outerWidth(true),ah=(ak>ap)?-(ar):ar,am=(ak>ap)?ar:-(ar);af.animate({left:ah},an,function(){G(this)._hideAria()}).promise();ao.css("left",am+"px")._showAria().animate({left:0},an).promise();break;default:af._hideAria();ao._showAria();break}}function O(aj){aj.preventDefault();var ai=G(this),al=ai.parent().parent().parent().parent(),ah=V(al),ak=Y(al),am=ak.currentIndex;if(ai.parent().is(":not(.disabled):not(.current)")){var ag=ai.attr("href"),af=parseInt(ag.substring(ag.lastIndexOf("-")+1),0);Q(al,ah,ak,af)}if(am===ak.currentIndex){L(al,am).focus();return false}}function n(af){if(arguments.length>1){af=B.apply(this,arguments)}throw new Error(af)}function U(ag,af){if(af==null){n("The argument '{0}' is null or undefined.",ag)}}G.fn.steps=function(af){if(G.fn.steps[af]){return G.fn.steps[af].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof af==="object"||!af){return g.apply(this,arguments)}else{G.error("Method "+af+" does not exist on jQuery.steps")}}};G.fn.steps.add=function(ag){var af=V(this),ah=Y(this);return x(this,af,ah,ah.stepCount,ag)};G.fn.steps.destroy=function(){var af=V(this);return T(this,af)};G.fn.steps.finish=function(){var af=Y(this);i(this,af)};G.fn.steps.getCurrentIndex=function(){return Y(this).currentIndex};G.fn.steps.getCurrentStep=function(){return f(this,Y(this).currentIndex)};G.fn.steps.getStep=function(af){return f(this,af)};G.fn.steps.insert=function(ag,ah){var af=V(this),ai=Y(this);return x(this,af,ai,ag,ah)};G.fn.steps.next=function(){var af=V(this),ag=Y(this);return M(this,af,ag)};G.fn.steps.previous=function(){var af=V(this),ag=Y(this);return ae(this,af,ag)};G.fn.steps.remove=function(ag){var af=V(this),ah=Y(this);return k(this,af,ah,ag)};G.fn.steps.setStep=function(af,ag){throw new Error("Not yet implemented!")};G.fn.steps.skip=function(af){throw new Error("Not yet implemented!")};var z=G.fn.steps.contentMode={html:0,iframe:1,async:2};var c=G.fn.steps.stepsOrientation={horizontal:0,vertical:1};var ac=G.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var Z=G.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:z.html,contentLoaded:false};var I=G.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:c.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:false,enableAllSteps:false,enableKeyNavigation:true,enablePagination:true,suppressPaginationOnFocus:true,enableContentCache:true,enableFinishButton:true,preloadContent:false,showFinishButtonAlways:false,forceMoveForward:false,saveState:false,startIndex:0,transitionEffect:ac.none,transitionEffectSpeed:200,onStepChanging:function(ah,af,ag){return true},onStepChanged:function(ag,af,ah){},onFinishing:function(ag,af){return true},onFinished:function(ag,af){},labels:{current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}};G.fn.extend({_aria:function(af,ag){return this.attr("aria-"+af,ag)},_removeAria:function(af){return this.removeAttr("aria-"+af)},_enableAria:function(){return this.removeClass("disabled")._aria("disabled","false")},_disableAria:function(){return this.addClass("disabled")._aria("disabled","true")},_hideAria:function(){return this.hide()._aria("hidden","true")},_showAria:function(){return this.show()._aria("hidden","false")},_selectAria:function(){return this.addClass("current")._aria("selected","true")},_deselectAria:function(){return this.removeClass("current")._aria("selected","false")},_getId:function(){return this.attr("id")},_setId:function(af){return this.attr("id",af)}})})(jQuery);